<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>Blob&amp;File&amp;FileReader | Hexo</title><meta name="description" content="BlobThe Blob object represents a blob, which is a file-like object of immutable, raw data; they can be read as text or binary data, or converted into a ReadableStream so its methods can be used for pr"><meta property="og:type" content="article"><meta property="og:title" content="Blob&amp;File&amp;FileReader"><meta property="og:url" content="https://molly2molly.github.io/Blob&File&FileReader/index.html"><meta property="og:site_name" content="张英姿的博客"><meta property="og:description" content="BlobThe Blob object represents a blob, which is a file-like object of immutable, raw data; they can be read as text or binary data, or converted into a ReadableStream so its methods can be used for pr"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2020-12-31T08:45:51.752Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Blob&amp;File&amp;FileReader"><meta name="twitter:description" content="BlobThe Blob object represents a blob, which is a file-like object of immutable, raw data; they can be read as text or binary data, or converted into a ReadableStream so its methods can be used for pr"><link rel="canonical" href="https://molly2molly.github.io/Blob&File&FileReader/index.html"><link rel="alternate" href="/atom.xml" title="张英姿的博客" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"></head><body class="main-center theme-green" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/molly2molly" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">张英姿</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">前端工程师</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> 苏州, 中国</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="Search"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech=""> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">Home</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">Archives</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">Categories</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">Tags</span></a></li><li class="menu-item menu-item-repository"><a href="/repository"><i class="icon icon-project"></i> <span class="menu-title">Repository</span></a></li><li class="menu-item menu-item-books"><a href="/books"><i class="icon icon-book-fill"></i> <span class="menu-title">Books</span></a></li><li class="menu-item menu-item-links"><a href="/links"><i class="icon icon-friendship"></i> <span class="menu-title">Links</span></a></li><li class="menu-item menu-item-about"><a href="/about"><i class="icon icon-cup-fill"></i> <span class="menu-title">About</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/molly2molly" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">Board</h3><div class="widget-body"><div id="board"><div class="content"><p>欢迎交流与分享经验!</p></div></div></div></div><div class="widget"><h3 class="widget-title">Categories</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/D3-js/">D3.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/http/">http</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/others/">others</a><span class="category-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">Tags</h3><div class="widget-body"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP/">TCP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6-javascript/">es6 javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a><span class="tag-list-count">2</span></li></ul></div></div><div class="widget"><h3 class="widget-title">Tag Cloud</h3><div class="widget-body tagcloud"><a href="/tags/React/" style="font-size:13px">React</a> <a href="/tags/TCP/" style="font-size:13px">TCP</a> <a href="/tags/Webpack/" style="font-size:13px">Webpack</a> <a href="/tags/es6-javascript/" style="font-size:13px">es6 javascript</a> <a href="/tags/javascript/" style="font-size:14px">javascript</a> <a href="/tags/markdown/" style="font-size:13px">markdown</a> <a href="/tags/数据结构/" style="font-size:14px">数据结构</a></div></div><div class="widget"><h3 class="widget-title">Archive</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">Recent Posts</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"></p><p class="item-title"><a href="/ArrayBuffer&TypedArray&DataView/" class="title">ArrayBuffer</a></p><p class="item-date"><time datetime="2020-12-31T08:46:27.000Z" itemprop="datePublished">2020-12-31</time></p></div></li><li><div class="item-inner"><p class="item-category"></p><p class="item-title"><a href="/Blob&File&FileReader/" class="title">Blob&amp;File&amp;FileReader</a></p><p class="item-date"><time datetime="2020-12-31T06:41:13.000Z" itemprop="datePublished">2020-12-31</time></p></div></li><li><div class="item-inner"><p class="item-category"></p><p class="item-title"><a href="/FormData/" class="title">FormData</a></p><p class="item-date"><time datetime="2020-12-31T05:36:58.000Z" itemprop="datePublished">2020-12-31</time></p></div></li><li><div class="item-inner"><p class="item-category"></p><p class="item-title"><a href="/CORS/" class="title">CORS</a></p><p class="item-date"><time datetime="2020-12-31T02:54:48.000Z" itemprop="datePublished">2020-12-31</time></p></div></li><li><div class="item-inner"><p class="item-category"></p><p class="item-title"><a href="/addition/" class="title">addition</a></p><p class="item-date"><time datetime="2020-12-29T07:03:29.000Z" itemprop="datePublished">2020-12-29</time></p></div></li></ul></div></div></div></aside><main class="main" role="main"><div class="content"><article id="post-Blob&amp;File&amp;FileReader" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">Blob&amp;File&amp;FileReader</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/Blob&File&FileReader/" class="article-date"><time datetime="2020-12-31T06:41:13.000Z" itemprop="datePublished">2020-12-31</time></a></span> <span class="post-comment"><i class="icon icon-comment"></i> <a href="/Blob&File&FileReader/#comments" class="article-comment-link">Comments</a></span></div></div><div class="article-entry marked-body" itemprop="articleBody"><h2 id="Blob"><a href="#Blob" class="headerlink" title="Blob"></a>Blob</h2><p>The <strong><code>Blob</code></strong> object represents a blob, which is a file-like object of immutable, raw data; they can be read as text or binary data, or converted into a <a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream" target="_blank" rel="noopener"><code>ReadableStream</code></a> so its methods can be used for processing the data.</p><p>Blobs can represent data that isn’t necessarily in a JavaScript-native format. The <a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank" rel="noopener"><code>File</code></a> interface is based on <code>Blob</code>, inheriting blob functionality and expanding it to support files on the user’s system.</p><p>Blob 对象表示一个二进制文件的数据内容，比如一个图片文件的内容就可以通过 Blob 对象读写。它通常用来读写文件，它的名字是 Binary Large Object （二进制大型对象）的缩写。它与 ArrayBuffer 的区别在于，它用于操作二进制文件，而 ArrayBuffer 用于操作内存。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># Contructor</span><br><span class="line">Blob(array [, options])</span><br><span class="line"># Returns a newly created Blob object which contains a concatenation of all of the data in the array passed into the constructor.</span><br><span class="line"></span><br><span class="line"># Instance properties</span><br><span class="line">Blob.prototype.size - Read only</span><br><span class="line"># The size, in bytes(8 bit), of the data contained in the Blob object.</span><br><span class="line"></span><br><span class="line">Blob.prototype.type - Read only</span><br><span class="line"># A string indicating the MIME type of the data contained in the Blob. If the type is unknown, this string is empty.</span><br><span class="line"></span><br><span class="line"># Instance methods</span><br><span class="line">Blob.prototype.arrayBuffer()</span><br><span class="line"># Returns a promise that resolves with an ArrayBuffer containing the entire contents of the Blob as binary data.</span><br><span class="line"></span><br><span class="line">Blob.prototype.slice([start[, end[, contentType]]])</span><br><span class="line"># Returns a new Blob object containing the data in the specified range of bytes of the blob on which it's called.</span><br><span class="line"></span><br><span class="line">Blob.prototype.stream()</span><br><span class="line"># Returns a ReadableStream that can be used to read the contents of the Blob.</span><br><span class="line"></span><br><span class="line">Blob.prototype.text()</span><br><span class="line"># Returns a promise that resolves with a USVString containing the entire contents of the Blob interpreted as UTF-8 text.</span><br></pre></td></tr></table></figure><h3 id="Creating-a-blob"><a href="#Creating-a-blob" class="headerlink" title="Creating a blob"></a>Creating a blob</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">hello</span>: <span class="string">'world'</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([<span class="built_in">JSON</span>.stringify(obj, <span class="literal">null</span>, <span class="number">2</span>)], &#123;<span class="attr">type</span> : <span class="string">'application/json'</span>&#125;);</span><br></pre></td></tr></table></figure><h3 id="Creating-a-URL-representing-the-contents-of-a-typed-array"><a href="#Creating-a-URL-representing-the-contents-of-a-typed-array" class="headerlink" title="Creating a URL representing the contents of a typed array"></a>Creating a URL representing the contents of a typed array</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;This example creates a typed array containing the ASCII codes</span><br><span class="line">   <span class="keyword">for</span> the space character through the letter Z, then converts it</span><br><span class="line">   to an object URL. A link to open that object URL is created.</span><br><span class="line">   Click the link to see the decoded object URL.&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>***********************************<span class="regexp">/</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function typedArrayToURL(typedArray, mimeType) &#123;</span></span><br><span class="line"><span class="regexp">  return URL.createObjectURL(new Blob([typedArray.buffer], &#123;type: mimeType&#125;))</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const bytes = new Uint8Array(59);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">for(let i = 0; i &lt; 59; i++) &#123;</span></span><br><span class="line"><span class="regexp">  bytes[i] = 32 + i;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const url = typedArrayToURL(bytes, 'text/</span>plain<span class="string">');</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">const link = document.createElement('</span>a<span class="string">');</span></span><br><span class="line"><span class="string">link.href = url;</span></span><br><span class="line"><span class="string">link.innerText = '</span>Open the array URL<span class="string">';</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">document.body.appendChild(link);</span></span><br></pre></td></tr></table></figure><h3 id="Extracting-data-from-a-blob"><a href="#Extracting-data-from-a-blob" class="headerlink" title="Extracting data from a blob"></a>Extracting data from a blob</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line">reader.addEventListener(<span class="string">'loadend'</span>, () =&gt; &#123;</span><br><span class="line">   <span class="comment">// reader.result contains the contents of blob as a typed array</span></span><br><span class="line">&#125;);</span><br><span class="line">reader.readAsArrayBuffer(blob);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Response is an interface of the Fetch API</span><br><span class="line"><span class="keyword">const</span> text = <span class="keyword">await</span> (<span class="keyword">new</span> Response(blob)).text();</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> text = <span class="keyword">await</span> blob.text();</span><br></pre></td></tr></table></figure><h2 id="File"><a href="#File" class="headerlink" title="File"></a>File</h2><p><code>File</code> objects are generally retrieved from a <a href="https://developer.mozilla.org/en-US/docs/Web/API/FileList" target="_blank" rel="noopener"><code>FileList</code></a> object returned as a result of a user selecting files using the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input" target="_blank" rel="noopener"><input></a>element, from a drag and drop operation’s <a href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer" target="_blank" rel="noopener"><code>DataTransfer</code></a> object, or from the <code>mozGetAsFile()</code> API on an <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement" target="_blank" rel="noopener"><code>HTMLCanvasElement</code></a>.</p><p>A <code>File</code> object is a specific kind of a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob" target="_blank" rel="noopener"><code>Blob</code></a>, and can be used in any context that a Blob can. In particular, <a href="https://developer.mozilla.org/en-US/docs/Web/API/FileReader" target="_blank" rel="noopener"><code>FileReader</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL" target="_blank" rel="noopener"><code>URL.createObjectURL()</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/createImageBitmap" target="_blank" rel="noopener"><code>createImageBitmap()</code></a>, and <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#send(" target="_blank" rel="noopener"><code>XMLHttpRequest.send()</code></a>) accept both <code>Blob</code>s and <code>File</code>s.</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"># Constructor</span><br><span class="line">File()</span><br><span class="line"></span><br><span class="line"># Instance properties</span><br><span class="line">File.prototype.lastModified - Read only</span><br><span class="line"># Returns the last modified time of the file, in millisecond since the UNIX epoch (January 1st, 1970 at Midnight).</span><br><span class="line"></span><br><span class="line">File.prototype.lastModifiedDate - Read only</span><br><span class="line"># Returns the last modified Date of the file referenced by the File object.</span><br><span class="line"></span><br><span class="line">File.prototype.name - Read only</span><br><span class="line"># Returns the name of the file referenced by the File object.</span><br><span class="line"></span><br><span class="line">File.prototype.webkitRelativePath - Read only</span><br><span class="line"># Returns the path the URL of the File is relative to.</span><br><span class="line"></span><br><span class="line"># File implements Blob, so it also has the following properties available to it:</span><br><span class="line"></span><br><span class="line">File.prototype.size - Read only</span><br><span class="line"># Returns the size of the file in bytes.</span><br><span class="line"></span><br><span class="line">File.prototype.type - Read only</span><br><span class="line"># Returns the MIME type of the file.</span><br><span class="line"></span><br><span class="line"># Instance methods</span><br><span class="line"># The File interface doesn't define any methods, but inherits methods from the Blob interface:</span><br><span class="line"></span><br><span class="line">Blob.prototype.slice([start[, end[, contentType]]])</span><br><span class="line"># Returns a new Blob object containing the data in the specified range of bytes of the source Blob.</span><br><span class="line"></span><br><span class="line">Blob.prototype.stream()</span><br><span class="line"># Transforms the File into a ReadableStream that can be used to read the File contents.</span><br><span class="line"></span><br><span class="line">Blob.prototype.text()</span><br><span class="line"># Transforms the File into a stream and reads it to completion. It returns a promise that resolves with a USVString (text).</span><br><span class="line"></span><br><span class="line">Blob.prototype.arrayBuffer()</span><br><span class="line"># Transforms the File into a stream and reads it to completion. It returns a promise that resolves with an ArrayBuffer.</span><br></pre></td></tr></table></figure><h2 id="FileReader-amp-FileReaderSync"><a href="#FileReader-amp-FileReaderSync" class="headerlink" title="FileReader &amp; FileReaderSync"></a>FileReader &amp; FileReaderSync</h2><p>The <strong><code>FileReader</code></strong> object lets web applications asynchronously read the contents of files (or raw data buffers) stored on the user’s computer, using <a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank" rel="noopener"><code>File</code></a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob" target="_blank" rel="noopener"><code>Blob</code></a> objects to specify the file or data to read.</p><p>Important note: <code>FileReader</code> is used to read file content from the user’s (remote) system in secure ways only. It cannot be used to read a file by pathname from a file system. To read files by pathname in JavaScript, standard Ajax solutions should be used to do server-side file reading, with CORS permission if reading cross-domain.</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"># Constructor</span><br><span class="line">FileReader()</span><br><span class="line"></span><br><span class="line"># Properties</span><br><span class="line">FileReader.error - Read only</span><br><span class="line"># A DOMException representing the error that occurred while reading the file.</span><br><span class="line"></span><br><span class="line">FileReader.readyState - Read only</span><br><span class="line"># A number indicating the state of the FileReader. This is one of the following:</span><br><span class="line"># EMPTY	0	No data has been loaded yet.</span><br><span class="line"># LOADING	1	Data is currently being loaded.</span><br><span class="line"># DONE	2	The entire read request has been completed.</span><br><span class="line"></span><br><span class="line">FileReader.result - Read only</span><br><span class="line"># The file's contents. This property is only valid after the read operation is complete, and the format of the data depends on which of the methods was used to initiate the read operation.</span><br><span class="line"></span><br><span class="line"># Event handlers</span><br><span class="line">FileReader.onabort</span><br><span class="line"># A handler for the abort event. This event is triggered each time the reading operation is aborted.</span><br><span class="line"></span><br><span class="line">FileReader.onerror</span><br><span class="line"># A handler for the error event. This event is triggered each time the reading operation encounter an error.</span><br><span class="line"></span><br><span class="line">FileReader.onload</span><br><span class="line"># A handler for the load event. This event is triggered each time the reading operation is successfully completed.</span><br><span class="line"></span><br><span class="line">FileReader.onloadstart</span><br><span class="line"># A handler for the loadstart event. This event is triggered each time the reading is starting.</span><br><span class="line"></span><br><span class="line">FileReader.onloadend</span><br><span class="line"># A handler for the loadend event. This event is triggered each time the reading operation is completed (either in success or failure).</span><br><span class="line"></span><br><span class="line">FileReader.onprogress</span><br><span class="line"># A handler for the progress event. This event is triggered while reading a Blob content.</span><br><span class="line"></span><br><span class="line"># As FileReader inherits from EventTarget, all those events can also be listened for by using the addEventListener method.</span><br><span class="line"></span><br><span class="line"># Methods</span><br><span class="line">FileReader.abort()</span><br><span class="line"># Aborts the read operation. Upon return, the readyState will be DONE.</span><br><span class="line"></span><br><span class="line">FileReader.readAsArrayBuffer()</span><br><span class="line"># Starts reading the contents of the specified Blob, once finished, the result attribute contains an ArrayBuffer representing the file's data.</span><br><span class="line"></span><br><span class="line">FileReader.readAsBinaryString()</span><br><span class="line"># Starts reading the contents of the specified Blob, once finished, the result attribute contains the raw binary data from the file as a string.</span><br><span class="line"></span><br><span class="line">FileReader.readAsDataURL()</span><br><span class="line"># Starts reading the contents of the specified Blob, once finished, the result attribute contains a data: URL representing the file's data.</span><br><span class="line"></span><br><span class="line">FileReader.readAsText()</span><br><span class="line"># Starts reading the contents of the specified Blob, once finished, the result attribute contains the contents of the file as a text string. An optional encoding name can be specified.</span><br><span class="line"></span><br><span class="line"># Events</span><br><span class="line"># Listen to these events using addEventListener() or by assigning an event listener to the oneventname property of this interface.</span><br><span class="line"></span><br><span class="line">abort</span><br><span class="line"># Fired when a read has been aborted, for example because the program called FileReader.abort().</span><br><span class="line"># Also available via the onabort property.</span><br><span class="line"></span><br><span class="line">error</span><br><span class="line"># Fired when the read failed due to an error.</span><br><span class="line"># Also available via the onerror property.</span><br><span class="line"></span><br><span class="line">load</span><br><span class="line"># Fired when a read has completed successfully.</span><br><span class="line"># Also available via the onload property.</span><br><span class="line"></span><br><span class="line">loadend</span><br><span class="line"># Fired when a read has completed, successfully or not.</span><br><span class="line"># Also available via the onloadend property.</span><br><span class="line"></span><br><span class="line">loadstart</span><br><span class="line"># Fired when a read has started.</span><br><span class="line"># Also available via the onloadstart property.</span><br><span class="line"></span><br><span class="line">progress</span><br><span class="line"># Fired periodically as data is read.</span><br><span class="line"># Also available via the onprogress property.</span><br></pre></td></tr></table></figure><h2 id="Using-files-from-web-applications"><a href="#Using-files-from-web-applications" class="headerlink" title="Using files from web applications"></a>Using files from web applications</h2><p>Using the File API, which was added to the DOM in HTML5, it’s now possible for web content to ask the user to select local files and then read the contents of those files. This selection can be done by either using an HTML <code>&lt;input type=&quot;file&quot;&gt;</code> element or by drag and drop.</p><h3 id="Accessing-selected-file-s"><a href="#Accessing-selected-file-s" class="headerlink" title="Accessing selected file(s)"></a>Accessing selected file(s)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"file"</span> id=<span class="string">"input"</span> multiple&gt;</span><br><span class="line"></span><br><span class="line"># Accessing the first selected file using a classical DOM selector:</span><br><span class="line"><span class="keyword">const</span> selectedFile = <span class="built_in">document</span>.getElementById(<span class="string">'input'</span>).files[<span class="number">0</span>];</span><br></pre></td></tr></table></figure><h3 id="Accessing-selected-file-s-on-a-change-event"><a href="#Accessing-selected-file-s-on-a-change-event" class="headerlink" title="Accessing selected file(s) on a change event"></a>Accessing selected file(s) on a change event</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> inputElement = <span class="built_in">document</span>.getElementById(<span class="string">"input"</span>);</span><br><span class="line">inputElement.addEventListener(<span class="string">"change"</span>, handleFiles, <span class="literal">false</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleFiles</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> fileList = <span class="keyword">this</span>.files; <span class="comment">/* now you can work with the file list */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Getting-information-about-selected-file-s"><a href="#Getting-information-about-selected-file-s" class="headerlink" title="Getting information about selected file(s)"></a>Getting information about selected file(s)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numFiles = fileList.length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, numFiles = fileList.length; i &lt; numFiles; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> file = fileList[i];</span><br><span class="line">  <span class="comment">// file.name</span></span><br><span class="line">  <span class="comment">// file.size</span></span><br><span class="line">  <span class="comment">// file.type</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Example-Showing-file-s-size"><a href="#Example-Showing-file-s-size" class="headerlink" title="Example: Showing file(s) size"></a>Example: Showing file(s) size</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>File(s) size<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">"uploadForm"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"uploadInput"</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"myFiles"</span> <span class="attr">multiple</span>&gt;</span></span><br><span class="line">      selected files: <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"fileNum"</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span>;</span><br><span class="line">      total size: <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"fileSize"</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Send file"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">updateSize</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> nBytes = <span class="number">0</span>,</span></span><br><span class="line"><span class="javascript">        oFiles = <span class="keyword">this</span>.files,</span></span><br><span class="line"><span class="undefined">        nFiles = oFiles.length;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">for</span> (<span class="keyword">let</span> nFileId = <span class="number">0</span>; nFileId &lt; nFiles; nFileId++) &#123;</span></span><br><span class="line"><span class="undefined">      nBytes += oFiles[nFileId].size;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> sOutput = nBytes + <span class="string">" bytes"</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// optional code for multiples approximation</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> aMultiples = [<span class="string">"KiB"</span>, <span class="string">"MiB"</span>, <span class="string">"GiB"</span>, <span class="string">"TiB"</span>, <span class="string">"PiB"</span>, <span class="string">"EiB"</span>, <span class="string">"ZiB"</span>, <span class="string">"YiB"</span>];</span></span><br><span class="line"><span class="javascript">    <span class="keyword">for</span> (nMultiple = <span class="number">0</span>, nApprox = nBytes / <span class="number">1024</span>; nApprox &gt; <span class="number">1</span>; nApprox /= <span class="number">1024</span>, nMultiple++) &#123;</span></span><br><span class="line"><span class="javascript">      sOutput = nApprox.toFixed(<span class="number">3</span>) + <span class="string">" "</span> + aMultiples[nMultiple] + <span class="string">" ("</span> + nBytes + <span class="string">" bytes)"</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// end of optional code</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">"fileNum"</span>).innerHTML = nFiles;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">"fileSize"</span>).innerHTML = sOutput;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.getElementById(<span class="string">"uploadInput"</span>).addEventListener(<span class="string">"change"</span>, updateSize, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Using-hidden-file-input-elements-using-the-click-method"><a href="#Using-hidden-file-input-elements-using-the-click-method" class="headerlink" title="Using hidden file input elements using the click() method"></a>Using hidden file input elements using the click() method</h3><p>You can hide the admittedly ugly file <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input" target="_blank" rel="noopener"><input></a>element and present your own interface for opening the file picker and displaying which file or files the user has selected. You can do this by styling the input element with <code>display:none</code> and calling the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click" target="_blank" rel="noopener">click()</a> method on the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input" target="_blank" rel="noopener"><input></a>element.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"file"</span> id=<span class="string">"fileElem"</span> multiple accept=<span class="string">"image/*"</span> style=<span class="string">"display:none"</span>&gt;</span><br><span class="line">&lt;button id=<span class="string">"fileSelect"</span>&gt;Select some files&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>********************************<span class="regexp">/</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const fileSelect = document.getElementById("fileSelect"),</span></span><br><span class="line"><span class="regexp">  fileElem = document.getElementById("fileElem");</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">fileSelect.addEventListener("click", function (e) &#123;</span></span><br><span class="line"><span class="regexp">  if (fileElem) &#123;</span></span><br><span class="line"><span class="regexp">    fileElem.click();</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;, false);</span></span><br></pre></td></tr></table></figure><h3 id="Using-a-label-element-to-trigger-a-hidden-file-input-element"><a href="#Using-a-label-element-to-trigger-a-hidden-file-input-element" class="headerlink" title="Using a label element to trigger a hidden file input element"></a>Using a label element to trigger a hidden file input element</h3><p>There is no need to add JavaScript code to call <code>fileElem.click()</code>. Also in this case you can style the label element as you wish. You need to provide a visual cue for the focus status of the hidden input field on its label, be it an outline as shown above, or background-color or box-shadow.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"file"</span> id=<span class="string">"fileElem"</span> multiple accept=<span class="string">"image/*"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"visually-hidden"</span>&gt;</span><br><span class="line">&lt;label <span class="keyword">for</span>=<span class="string">"fileElem"</span>&gt;Select some files&lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>************************************<span class="regexp">/</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">.visually-hidden &#123;</span></span><br><span class="line"><span class="regexp">  position: absolute !important;</span></span><br><span class="line"><span class="regexp">  height: 1px;</span></span><br><span class="line"><span class="regexp">  width: 1px;</span></span><br><span class="line"><span class="regexp">  overflow: hidden;</span></span><br><span class="line"><span class="regexp">  clip: rect(1px, 1px, 1px, 1px);</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>* Separate rule <span class="keyword">for</span> compatibility, :focus-within is required on modern Firefox and Chrome *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">input.visually-hidden:focus + label &#123;</span></span><br><span class="line"><span class="regexp">  outline: thin dotted;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">input.visually-hidden:focus-within + label &#123;</span></span><br><span class="line"><span class="regexp">  outline: thin dotted;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Selecting-files-using-drag-and-drop"><a href="#Selecting-files-using-drag-and-drop" class="headerlink" title="Selecting files using drag and drop"></a>Selecting files using drag and drop</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dropbox;</span><br><span class="line"></span><br><span class="line">dropbox = <span class="built_in">document</span>.getElementById(<span class="string">"dropbox"</span>);</span><br><span class="line">dropbox.addEventListener(<span class="string">"dragenter"</span>, dragenter, <span class="literal">false</span>);</span><br><span class="line">dropbox.addEventListener(<span class="string">"dragover"</span>, dragover, <span class="literal">false</span>);</span><br><span class="line">dropbox.addEventListener(<span class="string">"drop"</span>, drop, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dragenter</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  e.stopPropagation();</span><br><span class="line">  e.preventDefault();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dragover</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  e.stopPropagation();</span><br><span class="line">  e.preventDefault();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drop</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  e.stopPropagation();</span><br><span class="line">  e.preventDefault();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> dt = e.dataTransfer;</span><br><span class="line">  <span class="keyword">const</span> files = dt.files;</span><br><span class="line"></span><br><span class="line">  handleFiles(files);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Example-Showing-thumbnails-of-user-selected-images"><a href="#Example-Showing-thumbnails-of-user-selected-images" class="headerlink" title="Example: Showing thumbnails of user-selected images"></a>Example: Showing thumbnails of user-selected images</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleFiles</span>(<span class="params">files</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; files.length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> file = files[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!file.type.startsWith(<span class="string">'image/'</span>))&#123; <span class="keyword">continue</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> img = <span class="built_in">document</span>.createElement(<span class="string">"img"</span>);</span><br><span class="line">    img.classList.add(<span class="string">"obj"</span>);</span><br><span class="line">    img.file = file;</span><br><span class="line">    preview.appendChild(img); <span class="comment">// Assuming that "preview" is the div output where the content will be displayed.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line">    reader.onload = (<span class="function"><span class="keyword">function</span>(<span class="params">aImg</span>) </span>&#123; <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123; aImg.src = e.target.result; &#125;; &#125;)(img);</span><br><span class="line">    reader.readAsDataURL(file);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Using-object-URLs"><a href="#Using-object-URLs" class="headerlink" title="Using object URLs"></a>Using object URLs</h3><p>The DOM <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL" target="_blank" rel="noopener"><code>URL.createObjectURL()</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL" target="_blank" rel="noopener"><code>URL.revokeObjectURL()</code></a> methods let you create simple URL strings that can be used to reference any data that can be referred to using a DOM <a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank" rel="noopener"><code>File</code></a> object, including local files on the user’s computer.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> objectURL = <span class="built_in">window</span>.URL.createObjectURL(fileObj);</span><br><span class="line"></span><br><span class="line">URL.revokeObjectURL(objectURL);</span><br></pre></td></tr></table></figure><h3 id="Example-Using-object-URLs-to-display-images"><a href="#Example-Using-object-URLs-to-display-images" class="headerlink" title="Example: Using object URLs to display images"></a>Example: Using object URLs to display images</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"file"</span> id=<span class="string">"fileElem"</span> multiple accept=<span class="string">"image/*"</span> style=<span class="string">"display:none"</span>&gt;</span><br><span class="line">&lt;a href=<span class="string">"#"</span> id=<span class="string">"fileSelect"</span>&gt;Select some files&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">&lt;div id="fileList"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;p&gt;No files selected!&lt;/</span>p&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>******************************************<span class="regexp">/</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const fileSelect = document.getElementById("fileSelect"),</span></span><br><span class="line"><span class="regexp">    fileElem = document.getElementById("fileElem"),</span></span><br><span class="line"><span class="regexp">    fileList = document.getElementById("fileList");</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">fileSelect.addEventListener("click", function (e) &#123;</span></span><br><span class="line"><span class="regexp">  if (fileElem) &#123;</span></span><br><span class="line"><span class="regexp">    fileElem.click();</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">  e.preventDefault(); /</span><span class="regexp">/ prevent navigation to "#"</span></span><br><span class="line"><span class="regexp">&#125;, false);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">fileElem.addEventListener("change", handleFiles, false);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function handleFiles() &#123;</span></span><br><span class="line"><span class="regexp">  if (!this.files.length) &#123;</span></span><br><span class="line"><span class="regexp">    fileList.innerHTML = "&lt;p&gt;No files selected!&lt;/</span>p&gt;<span class="string">";</span></span><br><span class="line"><span class="string">  &#125; else &#123;</span></span><br><span class="line"><span class="string">    fileList.innerHTML = "</span><span class="string">";</span></span><br><span class="line"><span class="string">    const list = document.createElement("</span>ul<span class="string">");</span></span><br><span class="line"><span class="string">    fileList.appendChild(list);</span></span><br><span class="line"><span class="string">    for (let i = 0; i &lt; this.files.length; i++) &#123;</span></span><br><span class="line"><span class="string">      const li = document.createElement("</span>li<span class="string">");</span></span><br><span class="line"><span class="string">      list.appendChild(li);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      const img = document.createElement("</span>img<span class="string">");</span></span><br><span class="line"><span class="string">      img.src = URL.createObjectURL(this.files[i]);</span></span><br><span class="line"><span class="string">      img.height = 60;</span></span><br><span class="line"><span class="string">      img.onload = function() &#123;</span></span><br><span class="line"><span class="string">        URL.revokeObjectURL(this.src);</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      li.appendChild(img);</span></span><br><span class="line"><span class="string">      const info = document.createElement("</span>span<span class="string">");</span></span><br><span class="line"><span class="string">      info.innerHTML = this.files[i].name + "</span>: <span class="string">" + this.files[i].size + "</span> bytes<span class="string">";</span></span><br><span class="line"><span class="string">      li.appendChild(info);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Example-Uploading-a-user-selected-file"><a href="#Example-Uploading-a-user-selected-file" class="headerlink" title="Example: Uploading a user-selected file"></a>Example: Uploading a user-selected file</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sendFiles</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> imgs = <span class="built_in">document</span>.querySelectorAll(<span class="string">".obj"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; imgs.length; i++) &#123;</span><br><span class="line">    <span class="keyword">new</span> FileUpload(imgs[i], imgs[i].file);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FileUpload</span>(<span class="params">img, file</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line">  <span class="keyword">this</span>.ctrl = createThrobber(img);</span><br><span class="line">  <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">  <span class="keyword">this</span>.xhr = xhr;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">this</span>.xhr.upload.addEventListener(<span class="string">"progress"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (e.lengthComputable) &#123;</span><br><span class="line">          <span class="keyword">const</span> percentage = <span class="built_in">Math</span>.round((e.loaded * <span class="number">100</span>) / e.total);</span><br><span class="line">          self.ctrl.update(percentage);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">  xhr.upload.addEventListener(<span class="string">"load"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">          self.ctrl.update(<span class="number">100</span>);</span><br><span class="line">          <span class="keyword">const</span> canvas = self.ctrl.ctx.canvas;</span><br><span class="line">          canvas.parentNode.removeChild(canvas);</span><br><span class="line">      &#125;, <span class="literal">false</span>);</span><br><span class="line">  xhr.open(<span class="string">"POST"</span>, <span class="string">"http://demos.hacks.mozilla.org/paul/demos/resources/webservices/devnull.php"</span>);</span><br><span class="line">  xhr.overrideMimeType(<span class="string">'text/plain; charset=x-user-defined-binary'</span>);</span><br><span class="line">  reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line">    xhr.send(evt.target.result);</span><br><span class="line">  &#125;;</span><br><span class="line">  reader.readAsBinaryString(file);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Asynchronously-handling-the-file-upload-process"><a href="#Asynchronously-handling-the-file-upload-process" class="headerlink" title="Asynchronously handling the file upload process"></a>Asynchronously handling the file upload process</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">if (isset($_FILES[&apos;myFile&apos;])) &#123;</span><br><span class="line">    // Example:</span><br><span class="line">    move_uploaded_file($_FILES[&apos;myFile&apos;][&apos;tmp_name&apos;], &quot;uploads/&quot; . $_FILES[&apos;myFile&apos;][&apos;name&apos;]);</span><br><span class="line">    exit;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;dnd binary upload&lt;/title&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">    &lt;script type=&quot;application/javascript&quot;&gt;</span><br><span class="line">        function sendFile(file) &#123;</span><br><span class="line">            const uri = &quot;/index.php&quot;;</span><br><span class="line">            const xhr = new XMLHttpRequest();</span><br><span class="line">            const fd = new FormData();</span><br><span class="line"></span><br><span class="line">            xhr.open(&quot;POST&quot;, uri, true);</span><br><span class="line">            xhr.onreadystatechange = function() &#123;</span><br><span class="line">                if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) &#123;</span><br><span class="line">                    alert(xhr.responseText); // handle response.</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            fd.append(&apos;myFile&apos;, file);</span><br><span class="line">            // Initiate a multipart/form-data upload</span><br><span class="line">            xhr.send(fd);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        window.onload = function() &#123;</span><br><span class="line">            const dropzone = document.getElementById(&quot;dropzone&quot;);</span><br><span class="line">            dropzone.ondragover = dropzone.ondragenter = function(event) &#123;</span><br><span class="line">                event.stopPropagation();</span><br><span class="line">                event.preventDefault();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            dropzone.ondrop = function(event) &#123;</span><br><span class="line">                event.stopPropagation();</span><br><span class="line">                event.preventDefault();</span><br><span class="line"></span><br><span class="line">                const filesArray = event.dataTransfer.files;</span><br><span class="line">                for (let i=0; i&lt;filesArray.length; i++) &#123;</span><br><span class="line">                    sendFile(filesArray[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div id=&quot;dropzone&quot; style=&quot;margin:30px; width:500px; height:300px; border:1px dotted grey;&quot;&gt;Drag &amp; drop your file here...&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="Example-Using-object-URLs-to-display-PDF"><a href="#Example-Using-object-URLs-to-display-PDF" class="headerlink" title="Example: Using object URLs to display PDF"></a>Example: Using object URLs to display PDF</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe id=<span class="string">"viewer"</span>&gt;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">const</span> obj_url = URL.createObjectURL(blob);</span><br><span class="line"><span class="keyword">const</span> iframe = <span class="built_in">document</span>.getElementById(<span class="string">'viewer'</span>);</span><br><span class="line">iframe.setAttribute(<span class="string">'src'</span>, obj_url);</span><br><span class="line">URL.revokeObjectURL(obj_url);</span><br></pre></td></tr></table></figure><h3 id="Example-Using-object-URLs-with-other-file-types"><a href="#Example-Using-object-URLs-with-other-file-types" class="headerlink" title="Example: Using object URLs with other file types"></a>Example: Using object URLs with other file types</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> video = <span class="built_in">document</span>.getElementById(<span class="string">'video'</span>);</span><br><span class="line"><span class="keyword">const</span> obj_url = URL.createObjectURL(blob);</span><br><span class="line">video.src = obj_url;</span><br><span class="line">video.play();</span><br><span class="line">URL.revokeObjectURL(obj_url);</span><br></pre></td></tr></table></figure><h5 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h5><ol><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/API/Blob</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/API/File</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/FileReader" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/API/FileReader</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications</a></li></ol></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="https://molly2molly.github.io/Blob&File&FileReader/" title="Blob&amp;File&amp;FileReader" target="_blank" rel="external">https://molly2molly.github.io/Blob&File&FileReader/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/molly2molly" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/images/avatar.jpg" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/molly2molly" target="_blank"><span class="text-dark">张英姿</span><small class="ml-1x">前端工程师</small></a></h3><div>梦里寻他千百度 蓦然回首 那人却在灯火阑珊处</div></div></figure></div></div></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom=""><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/ArrayBuffer&TypedArray&DataView/" title="ArrayBuffer"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;Newer</span></a></li><li class="next"><a href="/FormData/" title="FormData"><span>Older&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a></li></ul><button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>$</span></button><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div></div></div></nav><div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content donate"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><div class="donate-box"><div class="donate-head"><p>Maybe you could buy me a cup of coffee.</p></div><div class="tab-content"><div role="tabpanel" class="tab-pane fade active in" id="alipay"><div class="donate-payimg"><img src="/images/donate/alipayimg.png" alt="Scan Qrcode" title="Scan"></div><p class="text-muted mv">Scan this qrcode</p><p class="text-grey">Open alipay app scan this qrcode, buy me a coffee!</p></div><div role="tabpanel" class="tab-pane fade" id="wechatpay"><div class="donate-payimg"><img src="/images/donate/wechatpayimg.png" alt="Scan Qrcode" title="Scan"></div><p class="text-muted mv">Scan this qrcode</p><p class="text-grey">Open wechat app scan this qrcode, buy me a coffee!</p></div></div><div class="donate-footer"><ul class="nav nav-tabs nav-justified" role="tablist"><li role="presentation" class="active"><a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> alipay</a></li><li role="presentation"><a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> wechat payment</a></li></ul></div></div></div></div></div></div></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/molly2molly" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul><div class="copyright"><div class="publishby">Theme by <a href="https://github.com/cofess" target="_blank">cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.</div></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/npm/valine"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta=(meta="nick,mail,link").split(",").filter(function(e){return-1<GUEST.indexOf(e)});new Valine({el:"#vcomments",verify:!1,notify:!1,appId:"",appKey:"",placeholder:"Just go go",avatar:"mm",meta:meta,pageSize:"10",visitor:!1})</script></body></html>