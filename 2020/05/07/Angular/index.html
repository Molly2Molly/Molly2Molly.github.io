<!-- build time:Mon May 18 2020 15:27:32 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>Angular | Hexo</title><meta name="description" content="123456789101112npm install -g @angular/cling new my-appcd my-appng serve --openng analytics project offng build my-app -c productionng generate component heroesng generate class herong generate direct"><meta property="og:type" content="article"><meta property="og:title" content="Angular"><meta property="og:url" content="https://molly2molly.github.io/2020/05/07/Angular/index.html"><meta property="og:site_name" content="张英姿的博客"><meta property="og:description" content="123456789101112npm install -g @angular/cling new my-appcd my-appng serve --openng analytics project offng build my-app -c productionng generate component heroesng generate class herong generate direct"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2020-05-18T07:13:05.883Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Angular"><meta name="twitter:description" content="123456789101112npm install -g @angular/cling new my-appcd my-appng serve --openng analytics project offng build my-app -c productionng generate component heroesng generate class herong generate direct"><link rel="canonical" href="https://molly2molly.github.io/2020/05/07/Angular/index.html"><link rel="alternate" href="/atom.xml" title="张英姿的博客" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"></head><body class="main-center theme-green" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/molly2molly" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">张英姿</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">前端工程师</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> 苏州, 中国</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="Search"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech=""> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">Home</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">Archives</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">Categories</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">Tags</span></a></li><li class="menu-item menu-item-repository"><a href="/repository"><i class="icon icon-project"></i> <span class="menu-title">Repository</span></a></li><li class="menu-item menu-item-books"><a href="/books"><i class="icon icon-book-fill"></i> <span class="menu-title">Books</span></a></li><li class="menu-item menu-item-links"><a href="/links"><i class="icon icon-friendship"></i> <span class="menu-title">Links</span></a></li><li class="menu-item menu-item-about"><a href="/about"><i class="icon icon-cup-fill"></i> <span class="menu-title">About</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/molly2molly" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">Board</h3><div class="widget-body"><div id="board"><div class="content"><p>欢迎交流与分享经验!</p></div></div></div></div><div class="widget"><h3 class="widget-title">Categories</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/D3-js/">D3.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/http/">http</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/others/">others</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">Tags</h3><div class="widget-body"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP/">TCP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6-javascript/">es6 javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">Tag Cloud</h3><div class="widget-body tagcloud"><a href="/tags/React/" style="font-size:13px">React</a> <a href="/tags/TCP/" style="font-size:13px">TCP</a> <a href="/tags/es6-javascript/" style="font-size:13px">es6 javascript</a> <a href="/tags/javascript/" style="font-size:14px">javascript</a> <a href="/tags/markdown/" style="font-size:13px">markdown</a> <a href="/tags/webpack/" style="font-size:13px">webpack</a> <a href="/tags/前端/" style="font-size:13px">前端</a></div></div><div class="widget"><h3 class="widget-title">Archive</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">2</span></li></ul></div></div><div class="widget"><h3 class="widget-title">Recent Posts</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"></p><p class="item-title"><a href="/2020/05/07/Decorators/" class="title">Decorators</a></p><p class="item-date"><time datetime="2020-05-07T05:54:48.000Z" itemprop="datePublished">2020-05-07</time></p></div></li><li><div class="item-inner"><p class="item-category"></p><p class="item-title"><a href="/2020/05/07/Angular/" class="title">Angular</a></p><p class="item-date"><time datetime="2020-05-07T03:30:40.000Z" itemprop="datePublished">2020-05-07</time></p></div></li><li><div class="item-inner"><p class="item-category"></p><p class="item-title"><a href="/2020/02/25/状态机/" class="title">状态机</a></p><p class="item-date"><time datetime="2020-02-25T02:00:04.000Z" itemprop="datePublished">2020-02-25</time></p></div></li><li><div class="item-inner"><p class="item-category"></p><p class="item-title"><a href="/2020/02/21/js异步流程控制/" class="title">js异步流程控制</a></p><p class="item-date"><time datetime="2020-02-21T01:42:04.000Z" itemprop="datePublished">2020-02-21</time></p></div></li><li><div class="item-inner"><p class="item-category"></p><p class="item-title"><a href="/2019/12/26/JSEventLoop/" class="title">JSEventLoop</a></p><p class="item-date"><time datetime="2019-12-26T05:43:08.000Z" itemprop="datePublished">2019-12-26</time></p></div></li></ul></div></div></div></aside><main class="main" role="main"><div class="content"><article id="post-Angular" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">Angular</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2020/05/07/Angular/" class="article-date"><time datetime="2020-05-07T03:30:40.000Z" itemprop="datePublished">2020-05-07</time></a></span> <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2020/05/07/Angular/#comments" class="article-comment-link">Comments</a></span></div></div><div class="article-entry marked-body" itemprop="articleBody"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @angular/cli</span><br><span class="line">ng new my-app</span><br><span class="line">cd my-app</span><br><span class="line">ng serve --open</span><br><span class="line">ng analytics project off</span><br><span class="line">ng build my-app -c production</span><br><span class="line"></span><br><span class="line">ng generate component heroes</span><br><span class="line">ng generate class hero</span><br><span class="line">ng generate directive highlight</span><br><span class="line">ng generate service hero</span><br><span class="line">ng generate module app-routing --flat --module=app</span><br></pre></td></tr></table></figure><h3 id="Components-amp-templates"><a href="#Components-amp-templates" class="headerlink" title="Components &amp; templates"></a>Components &amp; templates</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Component &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">class Hero &#123;</span><br><span class="line">  constructor(</span><br><span class="line">    public id: number,</span><br><span class="line">    public name: string) &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-root&apos;,</span><br><span class="line">  // templateUrl: &apos;./app.component.html&apos;,</span><br><span class="line">  // styleUrls: [&apos;./app.component.css&apos;]</span><br><span class="line">  template: `</span><br><span class="line">  &lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;My favorite hero is: &#123;&#123;myHero.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;p&gt;Heroes:&lt;/p&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li *ngFor=&quot;let hero of heroes&quot;&gt;</span><br><span class="line">      &#123;&#123; hero.name &#125;&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">  &lt;p *ngIf=&quot;heroes.length &gt; 3&quot;&gt;There are many heroes!&lt;/p&gt;</span><br><span class="line">`</span><br><span class="line">&#125;)</span><br><span class="line">export class AppComponent &#123;</span><br><span class="line">  title = &apos;Tour of Heroes&apos;;</span><br><span class="line">  heroes = [</span><br><span class="line">    new Hero(1, &apos;Windstorm&apos;),</span><br><span class="line">    new Hero(13, &apos;Bombasto&apos;),</span><br><span class="line">    new Hero(15, &apos;Magneta&apos;),</span><br><span class="line">    new Hero(20, &apos;Tornado&apos;)</span><br><span class="line">  ];</span><br><span class="line">  myHero = this.heroes[0];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># one-way from data source to view target</span><br><span class="line"></span><br><span class="line">&#123;&#123;expression&#125;&#125;</span><br><span class="line">[target]=&quot;expression&quot;</span><br><span class="line">bind-target=&quot;expression&quot;</span><br><span class="line"></span><br><span class="line"># one-way from view target to data source</span><br><span class="line"></span><br><span class="line">(target)=&quot;statement&quot;</span><br><span class="line">on-target=&quot;statement&quot;</span><br><span class="line"></span><br><span class="line"># two-way</span><br><span class="line"></span><br><span class="line">[(target)]=&quot;expression&quot;</span><br><span class="line">bindon-target=&quot;expression&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;&#123;&#123;itemImageUrl&#125;&#125;&quot;&gt; interpolated</span><br><span class="line">&lt;img [src]=&quot;itemImageUrl&quot;&gt; property bound</span><br><span class="line"></span><br><span class="line"># classExpr  =  &#123;className1: true, className2: false&#125;  </span><br><span class="line"># classExpr  =  [&quot;className1&quot;,&quot;className2&quot;] </span><br><span class="line"># classExpr  =  &quot;className1 className2&quot;</span><br><span class="line">&lt;input </span><br><span class="line">[class.foo]=&quot;hasFoo&quot; </span><br><span class="line">[class]=&quot;classExpr&quot; </span><br><span class="line">[style.width]=&quot;width&quot;</span><br><span class="line">[style.width.px]=&quot;width&quot;</span><br><span class="line">[style]=&quot;styleExpr&quot;</span><br><span class="line">[disabled]=&quot;condition ? true : false&quot;</span><br><span class="line">[attr.disabled]=&quot;condition ? &apos;disabled&apos; : null&quot;&gt;</span><br></pre></td></tr></table></figure><h5 id="two-way-binding"><a href="#two-way-binding" class="headerlink" title="two-way binding"></a>two-way binding</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;app-sizer [size]=&quot;fontSizePx&quot; (sizeChange)=&quot;fontSizePx=$event&quot;&gt;&lt;/app-sizer&gt;</span><br><span class="line"></span><br><span class="line">&lt;app-sizer [(size)]=&quot;fontSizePx&quot;&gt;&lt;/app-sizer&gt;</span><br><span class="line">&lt;input [(ngModel)]=&quot;fontSizePx&quot;&gt;</span><br></pre></td></tr></table></figure><h5 id="Built-in-attribute-directives"><a href="#Built-in-attribute-directives" class="headerlink" title="Built-in attribute directives"></a>Built-in attribute directives</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div [ngClass]=&quot;isSpecial ? &apos;special&apos; : &apos;&apos;&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div [ngStyle]=&quot;currentStyles&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;input [(ngModel)]=&quot;currentItem.name&quot;&gt;</span><br><span class="line">&lt;input [value]=&quot;currentItem.name&quot; (input)=&quot;currentItem.name=$event.target.value&quot;&gt;</span><br><span class="line">&lt;input [ngModel]=&quot;currentItem.name&quot; (ngModelChange)=&quot;setUppercaseName($event)&quot;&gt;</span><br><span class="line"></span><br><span class="line"># import FormsModule to use ngModel</span><br><span class="line">import &#123; FormsModule &#125; from &apos;@angular/forms&apos;;</span><br><span class="line">@NgModule(&#123;</span><br><span class="line">  /* ... */</span><br><span class="line">  imports: [</span><br><span class="line">    BrowserModule,</span><br><span class="line">    FormsModule</span><br><span class="line">  ],</span><br><span class="line">  /* ... */</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">export class AppModule &#123; &#125;</span><br></pre></td></tr></table></figure><h5 id="Built-in-structural-directives"><a href="#Built-in-structural-directives" class="headerlink" title="Built-in structural directives"></a>Built-in structural directives</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;app-item-detail *ngIf=&quot;isActive&quot; [item]=&quot;item&quot;&gt;&lt;/app-item-detail&gt;</span><br><span class="line"></span><br><span class="line">&lt;div *ngFor=&quot;let item of items; let i=index&quot;&gt;&#123;&#123;i + 1&#125;&#125; - &#123;&#123;item.name&#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"># trackByItems(index: number, item: Item): number &#123; return item.id; &#125;</span><br><span class="line">&lt;div *ngFor=&quot;let item of items; trackBy: trackByItems&quot;&gt;</span><br><span class="line">  (&#123;&#123;item.id&#125;&#125;) &#123;&#123;item.name&#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"># ngSwitch is an attribute directive</span><br><span class="line">&lt;div [ngSwitch]=&quot;currentItem.feature&quot;&gt;</span><br><span class="line">  &lt;app-stout-item    *ngSwitchCase=&quot;&apos;stout&apos;&quot;    [item]=&quot;currentItem&quot;&gt;&lt;/app-stout-item&gt;</span><br><span class="line">  &lt;app-device-item   *ngSwitchCase=&quot;&apos;slim&apos;&quot;     [item]=&quot;currentItem&quot;&gt;&lt;/app-device-item&gt;</span><br><span class="line">  &lt;app-lost-item     *ngSwitchCase=&quot;&apos;vintage&apos;&quot;  [item]=&quot;currentItem&quot;&gt;&lt;/app-lost-item&gt;</span><br><span class="line">  &lt;app-best-item     *ngSwitchCase=&quot;&apos;bright&apos;&quot;   [item]=&quot;currentItem&quot;&gt;&lt;/app-best-item&gt;</span><br><span class="line">&lt;!-- . . . --&gt;</span><br><span class="line">  &lt;app-unknown-item  *ngSwitchDefault           [item]=&quot;currentItem&quot;&gt;&lt;/app-unknown-item&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h5 id="Template-reference-variables-var"><a href="#Template-reference-variables-var" class="headerlink" title="Template reference variables (#var)"></a>Template reference variables (#var)</h5><ul><li>A template reference variable is often a reference to a DOM element within a template. It can also refer to a directive (which contains a component), an element, TemplateRef, or a web component.</li><li>The scope of a reference variable is the entire template.</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># reference to element</span><br><span class="line">&lt;input #phone placeholder=&quot;phone number&quot; /&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- lots of other elements --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span><br><span class="line">&lt;button (click)=&quot;callPhone(phone.value)&quot;&gt;Call&lt;/button&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># alternative syntax</span><br><span class="line">&lt;input ref-fax placeholder=&quot;fax number&quot; /&gt;</span><br><span class="line">&lt;button (click)=&quot;callFax(fax.value)&quot;&gt;Fax&lt;/button&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># reference to directive</span><br><span class="line">&lt;form #itemForm=&quot;ngForm&quot; (ngSubmit)=&quot;onSubmit(itemForm)&quot;&gt;</span><br><span class="line">  &lt;label for=&quot;name&quot;&gt;&lt;input name=&quot;name&quot; ngModel required /&gt;</span><br><span class="line">  &lt;/label&gt;</span><br><span class="line">  &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;div [hidden]=&quot;!itemForm.form.valid&quot;&gt;</span><br><span class="line">  &lt;p&gt;&#123;&#123; submitMessage &#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h5 id="Input-and-Output-properties"><a href="#Input-and-Output-properties" class="headerlink" title="@Input() and @Output() properties"></a>@Input() and @Output() properties</h5><ul><li>@Input() and @Output() allow Angular to share data between the parent context and child directives or components. An @Input() property is writable while an @Output() property is observable.</li><li>@Input() is the doorway into the component allowing data to flow in while @Output() is the doorway out of the component, allowing the child component to send data out.</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># child</span><br><span class="line">import &#123; Component, Input, Output, EventEmitter &#125; from &apos;@angular/core&apos;; </span><br><span class="line">export class ItemDetailComponent &#123;</span><br><span class="line">  @Input() item: string; // @Input(alias)</span><br><span class="line">  @Output() newItemEvent = new EventEmitter&lt;string&gt;();</span><br><span class="line">  </span><br><span class="line">  addNewItem(value: string) &#123;</span><br><span class="line">    this.newItemEvent.emit(value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;label&gt;Add an item: &lt;input #newItem&gt;&lt;/label&gt;</span><br><span class="line">&lt;button (click)=&quot;addNewItem(newItem.value)&quot;&gt;Add to parent&apos;s list&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"># parent</span><br><span class="line">&lt;app-item-detail </span><br><span class="line">[item]=&quot;currentItem&quot; </span><br><span class="line">(newItemEvent)=&quot;addItem($event)&quot;&gt;</span><br><span class="line">&lt;/app-item-detail&gt;</span><br><span class="line"></span><br><span class="line">addItem(newItem: string) &#123;</span><br><span class="line">  this.items.push(newItem);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># NOT RECOMMEND</span><br><span class="line">@Component(&#123;</span><br><span class="line">  /* ... */</span><br><span class="line">  // tslint:disable: no-inputs-metadata-property no-outputs-metadata-property</span><br><span class="line">  inputs: [&apos;clearanceItem: alias1&apos;], // propertyName:alias</span><br><span class="line">  outputs: [&apos;buyEvent&apos;]</span><br><span class="line">  // tslint:enable: no-inputs-metadata-property no-outputs-metadata-property</span><br><span class="line">  /* ... */</span><br><span class="line">&#125;)</span><br><span class="line">export class InTheMetadataComponent  &#123;</span><br><span class="line">  buyEvent = new EventEmitter&lt;string&gt;();</span><br><span class="line">  clearanceItem: string;</span><br><span class="line"></span><br><span class="line">  buyIt() &#123;</span><br><span class="line">    this.buyEvent.emit(this.clearanceItem);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="Template-expression-operators"><a href="#Template-expression-operators" class="headerlink" title="Template expression operators"></a>Template expression operators</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- convert title to uppercase, then to lowercase --&gt;</span><br><span class="line">&lt;p&gt;&#123;&#123;title | uppercase | lowercase&#125;&#125;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- pipe with configuration argument =&gt; &quot;February 25, 1980&quot; --&gt;</span><br><span class="line">&lt;p&gt;Manufacture date with date format pipe: &#123;&#123;item.manufactureDate | date:&apos;longDate&apos;&#125;&#125;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;Item json pipe: &#123;&#123;item | json&#125;&#125;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line"># safe navigation operator</span><br><span class="line">&lt;p&gt;The item name is: &#123;&#123;item?.name?.b?.c?.d&#125;&#125;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line"># non-null assertion operator</span><br><span class="line">&lt;!-- Assert color is defined, even if according to the `Item` type it could be undefined. --&gt;</span><br><span class="line">&lt;p&gt;The item&apos;s color is: &#123;&#123;item.color!.toUpperCase()&#125;&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure><h5 id="Built-in-template-functions"><a href="#Built-in-template-functions" class="headerlink" title="Built-in template functions"></a>Built-in template functions</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&#123;&#123;$any(item).bestByDate&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&#123;&#123;$any(this).bestByDate&#125;&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure><h5 id="SVG-in-template"><a href="#SVG-in-template" class="headerlink" title="SVG in template"></a>SVG in template</h5><ul><li>When you use an SVG as the template, you are able to use directives and bindings just like with HTML templates. This means that you will be able to dynamically generate interactive graphics.</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Component &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-svg&apos;,</span><br><span class="line">  templateUrl: &apos;./svg.component.svg&apos;,</span><br><span class="line">  styleUrls: [&apos;./svg.component.css&apos;]</span><br><span class="line">&#125;)</span><br><span class="line">export class SvgComponent &#123;</span><br><span class="line">  fillColor = &apos;rgb(255, 0, 0)&apos;;</span><br><span class="line"></span><br><span class="line">  changeColor() &#123;</span><br><span class="line">    const r = Math.floor(Math.random() * 256);</span><br><span class="line">    const g = Math.floor(Math.random() * 256);</span><br><span class="line">    const b = Math.floor(Math.random() * 256);</span><br><span class="line">    this.fillColor = `rgb($&#123;r&#125;, $&#123;g&#125;, $&#123;b&#125;)`;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># svg.component.svg</span><br><span class="line">&lt;svg&gt;</span><br><span class="line">  &lt;g&gt;</span><br><span class="line">    &lt;rect x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;100&quot; [attr.fill]=&quot;fillColor&quot; (click)=&quot;changeColor()&quot; /&gt;</span><br><span class="line">    &lt;text x=&quot;120&quot; y=&quot;50&quot;&gt;click the rectangle to change the fill color&lt;/text&gt;</span><br><span class="line">  &lt;/g&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure><h5 id="user-input"><a href="#user-input" class="headerlink" title="user input"></a>user input</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Component &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-key-up1&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;input (keyup)=&quot;onKey($event)&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;values&#125;&#125;&lt;/p&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line">export class KeyUpComponent_v1 &#123;</span><br><span class="line">  values = &apos;&apos;;</span><br><span class="line"></span><br><span class="line">  /*</span><br><span class="line">  onKey(event: any) &#123; // without type info</span><br><span class="line">    this.values += event.target.value + &apos; | &apos;;</span><br><span class="line">  &#125;</span><br><span class="line">  */</span><br><span class="line"></span><br><span class="line">  onKey(event: KeyboardEvent) &#123; // with type info</span><br><span class="line">    this.values += (event.target as HTMLInputElement).value + &apos; | &apos;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//////////////////////////////////////////</span><br><span class="line"></span><br><span class="line"># Angular updates the bindings (and therefore the screen) only if the app does something in response to asynchronous events, such as keystrokes.</span><br><span class="line"></span><br><span class="line">import &#123; Component &#125; from &apos;@angular/core&apos;;</span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-loop-back&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;input #box (keyup)=&quot;0&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;box.value&#125;&#125;&lt;/p&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line">export class LoopbackComponent &#123; &#125;</span><br><span class="line"></span><br><span class="line">//////////////////////////////////////////</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-key-up2&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;input #box (keyup)=&quot;onKey(box.value)&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;values&#125;&#125;&lt;/p&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line">export class KeyUpComponent_v2 &#123;</span><br><span class="line">  values = &apos;&apos;;</span><br><span class="line">  onKey(value: string) &#123;</span><br><span class="line">    this.values += value + &apos; | &apos;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//////////////////////////////////////////</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-key-up3&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;input #box (keyup.enter)=&quot;onEnter(box.value)&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;value&#125;&#125;&lt;/p&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line">export class KeyUpComponent_v3 &#123;</span><br><span class="line">  value = &apos;&apos;;</span><br><span class="line">  onEnter(value: string) &#123; this.value = value; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//////////////////////////////////////////</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-key-up4&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;input #box</span><br><span class="line">      (keyup.enter)=&quot;update(box.value)&quot;</span><br><span class="line">      (blur)=&quot;update(box.value)&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;p&gt;&#123;&#123;value&#125;&#125;&lt;/p&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line">export class KeyUpComponent_v4 &#123;</span><br><span class="line">  value = &apos;&apos;;</span><br><span class="line">  update(value: string) &#123; this.value = value; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="attribute-directives"><a href="#attribute-directives" class="headerlink" title="attribute directives"></a>attribute directives</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Directive, ElementRef, HostListener, Input &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">@Directive(&#123;</span><br><span class="line">  selector: &apos;[appHighlight]&apos;</span><br><span class="line">&#125;)</span><br><span class="line">export class HighlightDirective &#123;</span><br><span class="line"></span><br><span class="line">  constructor(private el: ElementRef) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  @Input() defaultColor: string;</span><br><span class="line"></span><br><span class="line">  @Input(&apos;appHighlight&apos;) highlightColor: string;</span><br><span class="line"></span><br><span class="line">  @HostListener(&apos;mouseenter&apos;) onMouseEnter() &#123;</span><br><span class="line">    this.highlight(this.highlightColor || this.defaultColor || &apos;red&apos;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @HostListener(&apos;mouseleave&apos;) onMouseLeave() &#123;</span><br><span class="line">    this.highlight(null);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private highlight(color: string) &#123;</span><br><span class="line">    this.el.nativeElement.style.backgroundColor = color;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="structural-directives"><a href="#structural-directives" class="headerlink" title="structural directives"></a>structural directives</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div [ngSwitch]=&quot;hero?.emotion&quot;&gt;</span><br><span class="line">  &lt;app-happy-hero    *ngSwitchCase=&quot;&apos;happy&apos;&quot;    [hero]=&quot;hero&quot;&gt;&lt;/app-happy-hero&gt;</span><br><span class="line">  &lt;app-sad-hero      *ngSwitchCase=&quot;&apos;sad&apos;&quot;      [hero]=&quot;hero&quot;&gt;&lt;/app-sad-hero&gt;</span><br><span class="line">  &lt;app-confused-hero *ngSwitchCase=&quot;&apos;confused&apos;&quot; [hero]=&quot;hero&quot;&gt;&lt;/app-confused-hero&gt;</span><br><span class="line">  &lt;app-unknown-hero  *ngSwitchDefault           [hero]=&quot;hero&quot;&gt;&lt;/app-unknown-hero&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div *ngIf=&quot;hero&quot; class=&quot;name&quot;&gt;&#123;&#123;hero.name&#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">// translate to</span><br><span class="line"></span><br><span class="line">&lt;ng-template [ngIf]=&quot;hero&quot;&gt;</span><br><span class="line">	&lt;div class=&quot;name&quot;&gt;&#123;&#123;hero.name&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/ng-template&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div *ngFor=&quot;let hero of heroes; let i=index; let odd=odd; trackBy: trackById&quot; [class.odd]=&quot;odd&quot;&gt;</span><br><span class="line">  (&#123;&#123;i&#125;&#125;) &#123;&#123;hero.name&#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;ng-template ngFor let-hero [ngForOf]=&quot;heroes&quot; let-i=&quot;index&quot; let-odd=&quot;odd&quot; [ngForTrackBy]=&quot;trackById&quot;&gt;</span><br><span class="line">  &lt;div [class.odd]=&quot;odd&quot;&gt;(&#123;&#123;i&#125;&#125;) &#123;&#123;hero.name&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/ng-template&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  Pick your favorite hero</span><br><span class="line">  (&lt;label&gt;&lt;input type=&quot;checkbox&quot; checked (change)=&quot;showSad = !showSad&quot;&gt;show sad&lt;/label&gt;)</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;select [(ngModel)]=&quot;hero&quot;&gt;</span><br><span class="line">  &lt;ng-container *ngFor=&quot;let h of heroes&quot;&gt;</span><br><span class="line">    &lt;ng-container *ngIf=&quot;showSad || h.emotion !== &apos;sad&apos;&quot;&gt;</span><br><span class="line">      &lt;option [ngValue]=&quot;h&quot;&gt;&#123;&#123;h.name&#125;&#125; (&#123;&#123;h.emotion&#125;&#125;)&lt;/option&gt;</span><br><span class="line">    &lt;/ng-container&gt;</span><br><span class="line">  &lt;/ng-container&gt;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Directive, Input, TemplateRef, ViewContainerRef &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * ### Syntax</span><br><span class="line"> *</span><br><span class="line"> * - `&lt;div *appUnless=&quot;condition&quot;&gt;...&lt;/div&gt;`</span><br><span class="line"> * - `&lt;ng-template [appUnless]=&quot;condition&quot;&gt;&lt;div&gt;...&lt;/div&gt;&lt;/ng-template&gt;`</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line">@Directive(&#123; selector: &apos;[appUnless]&apos;&#125;)</span><br><span class="line">export class UnlessDirective &#123;</span><br><span class="line">  private hasView = false;</span><br><span class="line"></span><br><span class="line">  constructor(</span><br><span class="line">    private templateRef: TemplateRef&lt;any&gt;,</span><br><span class="line">    private viewContainer: ViewContainerRef) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  @Input() set appUnless(condition: boolean) &#123;</span><br><span class="line">    if (!condition &amp;&amp; !this.hasView) &#123;</span><br><span class="line">      this.viewContainer.createEmbeddedView(this.templateRef);</span><br><span class="line">      this.hasView = true;</span><br><span class="line">    &#125; else if (condition &amp;&amp; this.hasView) &#123;</span><br><span class="line">      this.viewContainer.clear();</span><br><span class="line">      this.hasView = false;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="pipes"><a href="#pipes" class="headerlink" title="pipes"></a>pipes</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&#123;&#123; birthday | date &#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&#123;&#123; birthday | date:&quot;MM/dd/yy&quot; &#125;&#125; &lt;/p&gt;</span><br><span class="line">&lt;p&gt;&#123;&#123; birthday | date:&apos;fullDate&apos; | uppercase&#125;&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-hero-birthday2&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;p&gt;&#123;&#123; birthday | date:format &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;button (click)=&quot;toggleFormat()&quot;&gt;Toggle Format&lt;/button&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line">export class HeroBirthday2Component &#123;</span><br><span class="line">  birthday = new Date(1988, 3, 15); // April 15, 1988</span><br><span class="line">  toggle = true; // start with true == shortDate</span><br><span class="line"></span><br><span class="line">  get format()   &#123; return this.toggle ? &apos;shortDate&apos; : &apos;fullDate&apos;; &#125;</span><br><span class="line">  toggleFormat() &#123; this.toggle = !this.toggle; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="custom-pipes"><a href="#custom-pipes" class="headerlink" title="custom pipes"></a>custom pipes</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Pipe, PipeTransform &#125; from &apos;@angular/core&apos;;</span><br><span class="line">/*</span><br><span class="line"> * Raise the value exponentially</span><br><span class="line"> * Takes an exponent argument that defaults to 1.</span><br><span class="line"> * Usage:</span><br><span class="line"> *   value | exponentialStrength:exponent</span><br><span class="line"> * Example:</span><br><span class="line"> *   &#123;&#123; 2 | exponentialStrength:10 &#125;&#125;</span><br><span class="line"> *   formats to: 1024</span><br><span class="line">*/</span><br><span class="line">@Pipe(&#123;name: &apos;exponentialStrength&apos;&#125;)</span><br><span class="line">export class ExponentialStrengthPipe implements PipeTransform &#123;</span><br><span class="line">  transform(value: number, exponent?: number): number &#123;</span><br><span class="line">    return Math.pow(value, isNaN(exponent) ? 1 : exponent);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="impure-pipes"><a href="#impure-pipes" class="headerlink" title="impure pipes"></a>impure pipes</h5><ul><li>Angular executes a pure pipe only when it detects a pure change to the input value. A pure change is either a change to a primitive input value (String, Number, Boolean, Symbol) or a changed object reference (Date, Array, Function, Object).</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/* tslint:disable use-pipe-transform-interface */</span><br><span class="line">import &#123; Pipe, PipeTransform &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">import &#123; Flyer &#125; from &apos;./heroes&apos;;</span><br><span class="line"></span><br><span class="line">@Pipe(&#123; name: &apos;flyingHeroes&apos; &#125;)</span><br><span class="line">export class FlyingHeroesPipe implements PipeTransform &#123;</span><br><span class="line">  transform(allHeroes: Flyer[]) &#123;</span><br><span class="line">    return allHeroes.filter(hero =&gt; hero.canFly);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/////// Identical except for the pure flag</span><br><span class="line">@Pipe(&#123;</span><br><span class="line">  name: &apos;flyingHeroesImpure&apos;,</span><br><span class="line">  pure: false</span><br><span class="line">&#125;)</span><br><span class="line">export class FlyingHeroesImpurePipe extends FlyingHeroesPipe &#123;&#125;</span><br></pre></td></tr></table></figure><h5 id="the-impure-AsyncPipe"><a href="#the-impure-AsyncPipe" class="headerlink" title="the impure AsyncPipe"></a>the impure AsyncPipe</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Component &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">import &#123; Observable, interval &#125; from &apos;rxjs&apos;;</span><br><span class="line">import &#123; map, take &#125; from &apos;rxjs/operators&apos;;</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-hero-message&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;h2&gt;Async Hero Message and AsyncPipe&lt;/h2&gt;</span><br><span class="line">    &lt;p&gt;Message: &#123;&#123; message$ | async &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;button (click)=&quot;resend()&quot;&gt;Resend&lt;/button&gt;`,</span><br><span class="line">&#125;)</span><br><span class="line">export class HeroAsyncMessageComponent &#123;</span><br><span class="line">  message$: Observable&lt;string&gt;;</span><br><span class="line"></span><br><span class="line">  private messages = [</span><br><span class="line">    &apos;You are my hero!&apos;,</span><br><span class="line">    &apos;You are the best hero!&apos;,</span><br><span class="line">    &apos;Will you be my hero?&apos;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  constructor() &#123; this.resend(); &#125;</span><br><span class="line"></span><br><span class="line">  resend() &#123;</span><br><span class="line">    this.message$ = interval(500).pipe(</span><br><span class="line">      map(i =&gt; this.messages[i]),</span><br><span class="line">      take(this.messages.length)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Alternative message$ formula:</span><br><span class="line">// this.message$ = fromArray(this.messages).pipe(</span><br><span class="line">//   map(message =&gt; timer(500),</span><br><span class="line">//   map(() =&gt; message)),</span><br><span class="line">//   concatAll()</span><br><span class="line">// );</span><br></pre></td></tr></table></figure><h5 id="an-impure-caching-pipe"><a href="#an-impure-caching-pipe" class="headerlink" title="an impure caching pipe"></a>an impure caching pipe</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import &#123; HttpClient &#125;          from &apos;@angular/common/http&apos;;</span><br><span class="line">import &#123; Pipe, PipeTransform &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">@Pipe(&#123;</span><br><span class="line">  name: &apos;fetch&apos;,</span><br><span class="line">  pure: false</span><br><span class="line">&#125;)</span><br><span class="line">export class FetchJsonPipe implements PipeTransform &#123;</span><br><span class="line">  private cachedData: any = null;</span><br><span class="line">  private cachedUrl = &apos;&apos;;</span><br><span class="line"></span><br><span class="line">  constructor(private http: HttpClient) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  transform(url: string): any &#123;</span><br><span class="line">    if (url !== this.cachedUrl) &#123;</span><br><span class="line">      this.cachedData = null;</span><br><span class="line">      this.cachedUrl = url;</span><br><span class="line">      this.http.get(url).subscribe(result =&gt; this.cachedData = result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return this.cachedData;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="lifecycle-hooks"><a href="#lifecycle-hooks" class="headerlink" title="lifecycle hooks"></a>lifecycle hooks</h5><table><thead><tr><th>Hook</th><th>Purpose and Timing</th></tr></thead><tbody><tr><td>ngOnChanges()</td><td>Respond when Angular (re)sets data-bound input properties. The method receives a SimpleChanges object of current and previous property values. Called before ngOnInit() and whenever one or more data-bound input properties change.</td></tr><tr><td>ngOnInit()</td><td>Initialize the directive/component after Angular first displays the data-bound properties and sets the directive/component’s input properties. Called once, after the first ngOnChanges().</td></tr><tr><td>ngDoCheck()</td><td>Detect and act upon changes that Angular can’t or won’t detect on its own. Called during every change detection run, immediately after ngOnChanges() and ngOnInit().</td></tr><tr><td>ngAfterContentInit()</td><td>Respond after Angular projects external content into the component’s view / the view that a directive is in. Called once after the first ngDoCheck().</td></tr><tr><td>ngAfterContentChecked()</td><td>Respond after Angular checks the content projected into the directive/component. Called after the ngAfterContentInit() and every subsequent ngDoCheck().</td></tr><tr><td>ngAfterViewInit()</td><td>Respond after Angular initializes the component’s views and child views / the view that a directive is in. Called once after the first ngAfterContentChecked().</td></tr><tr><td>ngAfterViewChecked()</td><td>Respond after Angular checks the component’s views and child views / the view that a directive is in. Called after the ngAfterViewInit() and every subsequent ngAfterContentChecked().</td></tr><tr><td>ngOnDestroy()</td><td>Cleanup just before Angular destroys the directive/component. Unsubscribe Observables and detach event handlers to avoid memory leaks. Called just before Angular destroys the directive/component.</td></tr></tbody></table><h4 id="Use-the-ngOnInit-method-to-perform-the-following-initialization-tasks"><a href="#Use-the-ngOnInit-method-to-perform-the-following-initialization-tasks" class="headerlink" title="Use the ngOnInit() method to perform the following initialization tasks."></a>Use the ngOnInit() method to perform the following initialization tasks.</h4><ul><li>Perform complex initializations outside of the constructor. Components should be cheap and safe to construct. You should not, for example, fetch data in a component constructor. You shouldn’t worry that a new component will try to contact a remote server when created under test or before you decide to display it.An ngOnInit() is a good place for a component to fetch its initial data.</li><li>Set up the component after Angular sets the input properties. Constructors should do no more than set the initial local variables to simple values.Keep in mind that a directive’s data-bound input properties are not set until after construction. If you need to initialize the directive based on those properties, set them when ngOnInit() runs.</li></ul><h4 id="Cleaning-up-on-instance-destruction"><a href="#Cleaning-up-on-instance-destruction" class="headerlink" title="Cleaning up on instance destruction"></a>Cleaning up on instance destruction</h4><p>Put cleanup logic in ngOnDestroy(), the logic that must run before Angular destroys the directive.<br>This is the place to free resources that won’t be garbage-collected automatically. You risk memory leaks if you neglect to do so.</p><ul><li>Unsubscribe from Observables and DOM events.</li><li>Stop interval timers.d</li><li>Unregister all callbacks that the directive registered with global or application services.</li></ul><h3 id="Component-Interaction"><a href="#Component-Interaction" class="headerlink" title="Component Interaction"></a>Component Interaction</h3><ul><li>pass data from parent to child with input binding</li><li>intercept input property changes with a setter</li><li>intercept input property changes with ngOnChanges()</li><li>parent listens for child event</li><li>parent interacts with child via local variable</li><li>parent calls an @ViewChild()</li><li>parent and children communicate via a service</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Component, Input &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-name-child&apos;,</span><br><span class="line">  template: &apos;&lt;h3&gt;&quot;&#123;&#123;name&#125;&#125;&quot;&lt;/h3&gt;&apos;</span><br><span class="line">&#125;)</span><br><span class="line">export class NameChildComponent &#123;</span><br><span class="line">  private _name = &apos;&apos;;</span><br><span class="line"></span><br><span class="line">  @Input()</span><br><span class="line">  set name(name: string) &#123;</span><br><span class="line">    this._name = (name &amp;&amp; name.trim()) || &apos;&lt;no name set&gt;&apos;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  get name(): string &#123; return this._name; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">/* tslint:disable:forin */</span><br><span class="line">import &#123; Component, Input, OnChanges, SimpleChange &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-version-child&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;h3&gt;Version &#123;&#123;major&#125;&#125;.&#123;&#123;minor&#125;&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;h4&gt;Change log:&lt;/h4&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li *ngFor=&quot;let change of changeLog&quot;&gt;&#123;&#123;change&#125;&#125;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line">export class VersionChildComponent implements OnChanges &#123;</span><br><span class="line">  @Input() major: number;</span><br><span class="line">  @Input() minor: number;</span><br><span class="line">  changeLog: string[] = [];</span><br><span class="line"></span><br><span class="line">  ngOnChanges(changes: &#123;[propKey: string]: SimpleChange&#125;) &#123;</span><br><span class="line">    let log: string[] = [];</span><br><span class="line">    for (let propName in changes) &#123;</span><br><span class="line">      let changedProp = changes[propName];</span><br><span class="line">      let to = JSON.stringify(changedProp.currentValue);</span><br><span class="line">      if (changedProp.isFirstChange()) &#123;</span><br><span class="line">        log.push(`Initial value of $&#123;propName&#125; set to $&#123;to&#125;`);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        let from = JSON.stringify(changedProp.previousValue);</span><br><span class="line">        log.push(`$&#123;propName&#125; changed from $&#123;from&#125; to $&#123;to&#125;`);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    this.changeLog.push(log.join(&apos;, &apos;));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Component, EventEmitter, Input, Output &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-voter&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;h4&gt;&#123;&#123;name&#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;button (click)=&quot;vote(true)&quot;  [disabled]=&quot;didVote&quot;&gt;Agree&lt;/button&gt;</span><br><span class="line">    &lt;button (click)=&quot;vote(false)&quot; [disabled]=&quot;didVote&quot;&gt;Disagree&lt;/button&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line">export class VoterComponent &#123;</span><br><span class="line">  @Input()  name: string;</span><br><span class="line">  @Output() voted = new EventEmitter&lt;boolean&gt;();</span><br><span class="line">  didVote = false;</span><br><span class="line"></span><br><span class="line">  vote(agreed: boolean) &#123;</span><br><span class="line">    this.voted.emit(agreed);</span><br><span class="line">    this.didVote = true;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># parent</span><br><span class="line">import &#123; Component &#125;      from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-vote-taker&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;h2&gt;Should mankind colonize the Universe?&lt;/h2&gt;</span><br><span class="line">    &lt;h3&gt;Agree: &#123;&#123;agreed&#125;&#125;, Disagree: &#123;&#123;disagreed&#125;&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;app-voter *ngFor=&quot;let voter of voters&quot;</span><br><span class="line">      [name]=&quot;voter&quot;</span><br><span class="line">      (voted)=&quot;onVoted($event)&quot;&gt;</span><br><span class="line">    &lt;/app-voter&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line">export class VoteTakerComponent &#123;</span><br><span class="line">  agreed = 0;</span><br><span class="line">  disagreed = 0;</span><br><span class="line">  voters = [&apos;Narco&apos;, &apos;Celeritas&apos;, &apos;Bombasto&apos;];</span><br><span class="line"></span><br><span class="line">  onVoted(agreed: boolean) &#123;</span><br><span class="line">    agreed ? this.agreed++ : this.disagreed++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//// Local variable, #timer, version</span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-countdown-parent-lv&apos;,</span><br><span class="line">  template: `</span><br><span class="line">  &lt;h3&gt;Countdown to Liftoff (via local variable)&lt;/h3&gt;</span><br><span class="line">  &lt;button (click)=&quot;timer.start()&quot;&gt;Start&lt;/button&gt;</span><br><span class="line">  &lt;button (click)=&quot;timer.stop()&quot;&gt;Stop&lt;/button&gt;</span><br><span class="line">  &lt;div class=&quot;seconds&quot;&gt;&#123;&#123;timer.seconds&#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;app-countdown-timer #timer&gt;&lt;/app-countdown-timer&gt;</span><br><span class="line">  `,</span><br><span class="line">  styleUrls: [&apos;../assets/demo.css&apos;]</span><br><span class="line">&#125;)</span><br><span class="line">export class CountdownLocalVarParentComponent &#123; &#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">//// View Child version</span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-countdown-parent-vc&apos;,</span><br><span class="line">  template: `</span><br><span class="line">  &lt;h3&gt;Countdown to Liftoff (via ViewChild)&lt;/h3&gt;</span><br><span class="line">  &lt;button (click)=&quot;start()&quot;&gt;Start&lt;/button&gt;</span><br><span class="line">  &lt;button (click)=&quot;stop()&quot;&gt;Stop&lt;/button&gt;</span><br><span class="line">  &lt;div class=&quot;seconds&quot;&gt;&#123;&#123; seconds() &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;app-countdown-timer&gt;&lt;/app-countdown-timer&gt;</span><br><span class="line">  `,</span><br><span class="line">  styleUrls: [&apos;../assets/demo.css&apos;]</span><br><span class="line">&#125;)</span><br><span class="line">export class CountdownViewChildParentComponent implements AfterViewInit &#123;</span><br><span class="line"></span><br><span class="line">  @ViewChild(CountdownTimerComponent)</span><br><span class="line">  private timerComponent: CountdownTimerComponent;</span><br><span class="line"></span><br><span class="line">  seconds() &#123; return 0; &#125;</span><br><span class="line"></span><br><span class="line">  ngAfterViewInit() &#123;</span><br><span class="line">    // Redefine `seconds()` to get from the `CountdownTimerComponent.seconds` ...</span><br><span class="line">    // but wait a tick first to avoid one-time devMode</span><br><span class="line">    // unidirectional-data-flow-violation error</span><br><span class="line">    setTimeout(() =&gt; this.seconds = () =&gt; this.timerComponent.seconds, 0);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  start() &#123; this.timerComponent.start(); &#125;</span><br><span class="line">  stop() &#123; this.timerComponent.stop(); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Injectable &#125; from &apos;@angular/core&apos;;</span><br><span class="line">import &#123; Subject &#125;    from &apos;rxjs&apos;;</span><br><span class="line"></span><br><span class="line">@Injectable()</span><br><span class="line">export class MissionService &#123;</span><br><span class="line"></span><br><span class="line">  // Observable string sources</span><br><span class="line">  private missionAnnouncedSource = new Subject&lt;string&gt;();</span><br><span class="line">  private missionConfirmedSource = new Subject&lt;string&gt;();</span><br><span class="line"></span><br><span class="line">  // Observable string streams</span><br><span class="line">  missionAnnounced$ = this.missionAnnouncedSource.asObservable();</span><br><span class="line">  missionConfirmed$ = this.missionConfirmedSource.asObservable();</span><br><span class="line"></span><br><span class="line">  // Service message commands</span><br><span class="line">  announceMission(mission: string) &#123;</span><br><span class="line">    this.missionAnnouncedSource.next(mission);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  confirmMission(astronaut: string) &#123;</span><br><span class="line">    this.missionConfirmedSource.next(astronaut);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#########################</span><br><span class="line">import &#123; Component &#125;          from &apos;@angular/core&apos;;</span><br><span class="line">import &#123; MissionService &#125;     from &apos;./mission.service&apos;;</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-mission-control&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;h2&gt;Mission Control&lt;/h2&gt;</span><br><span class="line">    &lt;button (click)=&quot;announce()&quot;&gt;Announce mission&lt;/button&gt;</span><br><span class="line">    &lt;app-astronaut *ngFor=&quot;let astronaut of astronauts&quot;</span><br><span class="line">      [astronaut]=&quot;astronaut&quot;&gt;</span><br><span class="line">    &lt;/app-astronaut&gt;</span><br><span class="line">    &lt;h3&gt;History&lt;/h3&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li *ngFor=&quot;let event of history&quot;&gt;&#123;&#123;event&#125;&#125;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  `,</span><br><span class="line">  providers: [MissionService]</span><br><span class="line">&#125;)</span><br><span class="line">export class MissionControlComponent &#123;</span><br><span class="line">  astronauts = [&apos;Lovell&apos;, &apos;Swigert&apos;, &apos;Haise&apos;];</span><br><span class="line">  history: string[] = [];</span><br><span class="line">  missions = [&apos;Fly to the moon!&apos;,</span><br><span class="line">              &apos;Fly to mars!&apos;,</span><br><span class="line">              &apos;Fly to Vegas!&apos;];</span><br><span class="line">  nextMission = 0;</span><br><span class="line"></span><br><span class="line">  constructor(private missionService: MissionService) &#123;</span><br><span class="line">    missionService.missionConfirmed$.subscribe(</span><br><span class="line">      astronaut =&gt; &#123;</span><br><span class="line">        this.history.push(`$&#123;astronaut&#125; confirmed the mission`);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  announce() &#123;</span><br><span class="line">    let mission = this.missions[this.nextMission++];</span><br><span class="line">    this.missionService.announceMission(mission);</span><br><span class="line">    this.history.push(`Mission &quot;$&#123;mission&#125;&quot; announced`);</span><br><span class="line">    if (this.nextMission &gt;= this.missions.length) &#123; this.nextMission = 0; &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#########################</span><br><span class="line">import &#123; Component, Input, OnDestroy &#125; from &apos;@angular/core&apos;;</span><br><span class="line">import &#123; MissionService &#125; from &apos;./mission.service&apos;;</span><br><span class="line">import &#123; Subscription &#125;   from &apos;rxjs&apos;;</span><br><span class="line"></span><br><span class="line">@Component(&#123;</span><br><span class="line">  selector: &apos;app-astronaut&apos;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">      &#123;&#123;astronaut&#125;&#125;: &lt;strong&gt;&#123;&#123;mission&#125;&#125;&lt;/strong&gt;</span><br><span class="line">      &lt;button</span><br><span class="line">        (click)=&quot;confirm()&quot;</span><br><span class="line">        [disabled]=&quot;!announced || confirmed&quot;&gt;</span><br><span class="line">        Confirm</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line">export class AstronautComponent implements OnDestroy &#123;</span><br><span class="line">  @Input() astronaut: string;</span><br><span class="line">  mission = &apos;&lt;no mission announced&gt;&apos;;</span><br><span class="line">  confirmed = false;</span><br><span class="line">  announced = false;</span><br><span class="line">  subscription: Subscription;</span><br><span class="line"></span><br><span class="line">  constructor(private missionService: MissionService) &#123;</span><br><span class="line">    this.subscription = missionService.missionAnnounced$.subscribe(</span><br><span class="line">      mission =&gt; &#123;</span><br><span class="line">        this.mission = mission;</span><br><span class="line">        this.announced = true;</span><br><span class="line">        this.confirmed = false;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  confirm() &#123;</span><br><span class="line">    this.confirmed = true;</span><br><span class="line">    this.missionService.confirmMission(this.astronaut);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ngOnDestroy() &#123;</span><br><span class="line">    // prevent memory leak when component destroyed</span><br><span class="line">    this.subscription.unsubscribe();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Component-Styles"><a href="#Component-Styles" class="headerlink" title="Component Styles"></a>Component Styles</h3></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="https://molly2molly.github.io/2020/05/07/Angular/" title="Angular" target="_blank" rel="external">https://molly2molly.github.io/2020/05/07/Angular/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/molly2molly" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/images/avatar.jpg" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/molly2molly" target="_blank"><span class="text-dark">张英姿</span><small class="ml-1x">前端工程师</small></a></h3><div>梦里寻他千百度 蓦然回首 那人却在灯火阑珊处</div></div></figure></div></div></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom=""><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2020/05/07/Decorators/" title="Decorators"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;Newer</span></a></li><li class="next"><a href="/2020/02/25/状态机/" title="状态机"><span>Older&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a></li></ul><button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>$</span></button><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div></div></div></nav><div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content donate"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><div class="donate-box"><div class="donate-head"><p>Maybe you could buy me a cup of coffee.</p></div><div class="tab-content"><div role="tabpanel" class="tab-pane fade active in" id="alipay"><div class="donate-payimg"><img src="/images/donate/alipayimg.png" alt="Scan Qrcode" title="Scan"></div><p class="text-muted mv">Scan this qrcode</p><p class="text-grey">Open alipay app scan this qrcode, buy me a coffee!</p></div><div role="tabpanel" class="tab-pane fade" id="wechatpay"><div class="donate-payimg"><img src="/images/donate/wechatpayimg.png" alt="Scan Qrcode" title="Scan"></div><p class="text-muted mv">Scan this qrcode</p><p class="text-grey">Open wechat app scan this qrcode, buy me a coffee!</p></div></div><div class="donate-footer"><ul class="nav nav-tabs nav-justified" role="tablist"><li role="presentation" class="active"><a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> alipay</a></li><li role="presentation"><a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> wechat payment</a></li></ul></div></div></div></div></div></div></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/molly2molly" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul><div class="copyright"><div class="publishby">Theme by <a href="https://github.com/cofess" target="_blank">cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.</div></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>!function(T){var n={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},ROOT_URL:"/",CONTENT_URL:"/content.json"};T.INSIGHT_CONFIG=n}(window)</script><script src="/js/insight.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/npm/valine"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta="nick,mail,link";meta=meta.split(",").filter(function(e){return GUEST.indexOf(e)>-1}),new Valine({el:"#vcomments",verify:!1,notify:!1,appId:"",appKey:"",placeholder:"Just go go",avatar:"mm",meta:meta,pageSize:"10",visitor:!1})</script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({model:{jsonPath:"/null"},display:{position:"left",width:150,height:300},mobile:{show:!0},log:!1,pluginJsPath:"lib/",pluginModelPath:"assets/",pluginRootPath:"live2dw/",tagMode:!1})</script></body></html><!-- rebuild by neat -->